"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[9391],{42488:(e,o,t)=>{t.r(o),t.d(o,{CH:()=>d,assets:()=>p,chCodeConfig:()=>a,contentTitle:()=>i,default:()=>y,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"Integrations/DataHub/datahub-technical-reference","title":"DataHub Technical Reference","description":"This page provides technical details about the DataHub component bundle architecture, GraphQL queries used, and extension points for developers.","source":"@site/docs/Integrations/DataHub/datahub-technical-reference.md","sourceDirName":"Integrations/DataHub","slug":"/integrations/datahub/technical-reference","permalink":"/integrations/datahub/technical-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"DataHub Technical Reference","slug":"/integrations/datahub/technical-reference"},"sidebar":"docs","previous":{"title":"DataHub Metadata Enrichment Agent","permalink":"/integrations/datahub/metadata-enrichment-agent"},"next":{"title":"Langfuse","permalink":"/integrations-langfuse"}}');var s=t(74848),r=t(28453),c=t(24754);const l={title:"DataHub Technical Reference",slug:"/integrations/datahub/technical-reference"},i="DataHub technical reference",p={},d={annotations:c.hk,Code:c.Cy},a={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},h=[{value:"Architecture overview",id:"architecture-overview",level:2},{value:"Component class hierarchy",id:"component-class-hierarchy",level:3},{value:"DataHubGraphQLMixin",id:"datahubgraphqlmixin",level:3},{value:"GraphQL operations",id:"graphql-operations",level:2},{value:"Read operations",id:"read-operations",level:3},{value:"Search query fields",id:"search-query-fields",level:4},{value:"Get Metadata query fields",id:"get-metadata-query-fields",level:4},{value:"Lineage query fields",id:"lineage-query-fields",level:4},{value:"Write operations",id:"write-operations",level:3},{value:"Sub-resource support",id:"sub-resource-support",level:4},{value:"Data output format",id:"data-output-format",level:2},{value:"Search result schema",id:"search-result-schema",level:3},{value:"Get Metadata result schema",id:"get-metadata-result-schema",level:3},{value:"Write operation result schema",id:"write-operation-result-schema",level:3},{value:"Tool schemas",id:"tool-schemas",level:2},{value:"Error handling",id:"error-handling",level:2},{value:"Testing",id:"testing",level:2},{value:"Relationship to DataHub MCP Server",id:"relationship-to-datahub-mcp-server",level:2},{value:"Extension guide",id:"extension-guide",level:2}];function D(e){const o={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return d||u("CH",!1),d.Code||u("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"datahub-technical-reference",children:"DataHub technical reference"})}),"\n",(0,s.jsx)(o.p,{children:"This page provides technical details about the DataHub component bundle architecture, GraphQL queries used, and extension points for developers."}),"\n",(0,s.jsx)(o.h2,{id:"architecture-overview",children:"Architecture overview"}),"\n",(0,s.jsxs)(o.p,{children:["The DataHub bundle consists of 8 components under ",(0,s.jsx)(o.code,{children:"components/datahub/"}),", all sharing a common ",(0,s.jsx)(o.code,{children:"DataHubGraphQLMixin"})," for GraphQL transport:"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"components/datahub/",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_base.py              # DataHubGraphQLMixin \u2014 shared GraphQL client",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_search.py            # DataHubSearchComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_get_metadata.py      # DataHubGetMetadataComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_lineage.py           # DataHubLineageComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_add_documentation.py # DataHubAddDocumentationComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_manage_tags.py       # DataHubManageTagsComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_manage_terms.py      # DataHubManageTermsComponent",props:{}}]},{tokens:[{content:"\u251c\u2500\u2500 datahub_manage_domains.py    # DataHubManageDomainsComponent",props:{}}]},{tokens:[{content:"\u2514\u2500\u2500 datahub_manage_properties.py # DataHubManagePropertiesComponent",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,s.jsx)(o.h3,{id:"component-class-hierarchy",children:"Component class hierarchy"}),"\n",(0,s.jsxs)(o.p,{children:["Each component extends both the shared mixin and the Langflow ",(0,s.jsx)(o.code,{children:"LCToolComponent"})," base class:"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"class ",props:{style:{color:"#FF7B72"}}},{content:"DataHubSearchComponent",props:{style:{color:"#FFA657"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"DataHubGraphQLMixin",props:{style:{color:"#79C0FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"LCToolComponent",props:{style:{color:"#79C0FF"}}},{content:"):",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    # run_model() \u2192 list[Data]    \u2014 for pipeline use",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    # build_tool() \u2192 Tool         \u2014 for agent use",props:{style:{color:"#8B949E"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(o.p,{children:"This dual-inheritance pattern provides:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"DataHubGraphQLMixin"})})," \u2014 ",(0,s.jsx)(o.code,{children:"_execute_graphql()"}),", ",(0,s.jsx)(o.code,{children:"_headers()"}),", connection parameters"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"LCToolComponent"})})," \u2014 Langflow component lifecycle, dual outputs (Data + Tool)"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"datahubgraphqlmixin",children:"DataHubGraphQLMixin"}),"\n",(0,s.jsx)(o.p,{children:"The mixin handles all GraphQL communication:"}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"class ",props:{style:{color:"#FF7B72"}}},{content:"DataHubGraphQLMixin",props:{style:{color:"#FFA657"}}},{content:":",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    graphql_endpoint: ",props:{style:{color:"#C9D1D9"}}},{content:"str   ",props:{style:{color:"#79C0FF"}}},{content:"# populated from component input",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    access_token: ",props:{style:{color:"#C9D1D9"}}},{content:"str       ",props:{style:{color:"#79C0FF"}}},{content:"# populated from component input",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    def ",props:{style:{color:"#FF7B72"}}},{content:"_headers",props:{style:{color:"#D2A8FF"}}},{content:"(self) -> dict[",props:{style:{color:"#C9D1D9"}}},{content:"str",props:{style:{color:"#79C0FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"str",props:{style:{color:"#79C0FF"}}},{content:"]:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        """Build auth headers with Bearer token."""',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    def ",props:{style:{color:"#FF7B72"}}},{content:"_execute_graphql",props:{style:{color:"#D2A8FF"}}},{content:"(self, query, variables",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"None",props:{style:{color:"#79C0FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"*",props:{style:{color:"#FF7B72"}}},{content:", timeout",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"30",props:{style:{color:"#79C0FF"}}},{content:") -> ",props:{style:{color:"#C9D1D9"}}},{content:"dict",props:{style:{color:"#79C0FF"}}},{content:":",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        """Execute GraphQL query/mutation via httpx.',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'        Raises ValueError on HTTP or GraphQL-level errors."""',props:{style:{color:"#A5D6FF"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(o.p,{children:"Key behaviors:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Uses ",(0,s.jsx)(o.code,{children:"httpx.Client"})," with configurable timeout (default 30s)"]}),"\n",(0,s.jsxs)(o.li,{children:["Bearer token authentication via ",(0,s.jsx)(o.code,{children:"Authorization"})," header"]}),"\n",(0,s.jsxs)(o.li,{children:["Raises ",(0,s.jsx)(o.code,{children:"ValueError"})," on HTTP errors or GraphQL error responses"]}),"\n",(0,s.jsxs)(o.li,{children:["Returns the ",(0,s.jsx)(o.code,{children:"data"})," field from the GraphQL response"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"graphql-operations",children:"GraphQL operations"}),"\n",(0,s.jsx)(o.h3,{id:"read-operations",children:"Read operations"}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Component"}),(0,s.jsx)(o.th,{children:"GraphQL Operation"}),(0,s.jsx)(o.th,{children:"Variables"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Search"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"query search($input: SearchInput!)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"type"}),", ",(0,s.jsx)(o.code,{children:"query"}),", ",(0,s.jsx)(o.code,{children:"start"}),", ",(0,s.jsx)(o.code,{children:"count"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Get Metadata"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"query getEntity($urn: String!)"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"urn"})})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Lineage"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"query searchAcrossLineage($input: SearchAcrossLineageInput!)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"urn"}),", ",(0,s.jsx)(o.code,{children:"direction"}),", ",(0,s.jsx)(o.code,{children:"count"}),", ",(0,s.jsx)(o.code,{children:"maxHops"})]})]})]})]}),"\n",(0,s.jsx)(o.h4,{id:"search-query-fields",children:"Search query fields"}),"\n",(0,s.jsxs)(o.p,{children:["The search query returns entity fragments for ",(0,s.jsx)(o.code,{children:"Dataset"}),", ",(0,s.jsx)(o.code,{children:"Dashboard"}),", ",(0,s.jsx)(o.code,{children:"DataJob"}),", ",(0,s.jsx)(o.code,{children:"DataFlow"}),", and ",(0,s.jsx)(o.code,{children:"GlossaryTerm"})," types, including:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Entity URN and type"}),"\n",(0,s.jsx)(o.li,{children:"Name, qualified name, and description"}),"\n",(0,s.jsx)(o.li,{children:"Platform information"}),"\n",(0,s.jsx)(o.li,{children:"Matched search fields"}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"get-metadata-query-fields",children:"Get Metadata query fields"}),"\n",(0,s.jsx)(o.p,{children:"The entity query retrieves comprehensive Dataset metadata:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"properties"})," \u2014 name, qualifiedName, description, customProperties, created/lastModified timestamps"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"editableProperties"})," \u2014 user-edited description"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"schemaMetadata.fields"})," \u2014 field path, type, native type, description, nullability"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"ownership.owners"})," \u2014 owner URN, username/group name, ownership type"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"tags.tags"})," \u2014 tag URN and name"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"glossaryTerms.terms"})," \u2014 term URN and name"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"domain"})," \u2014 domain URN and name"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"deprecation"})," \u2014 deprecated flag and note"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"subTypes"})," \u2014 type names (e.g., ",(0,s.jsx)(o.code,{children:"table"}),", ",(0,s.jsx)(o.code,{children:"view"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Also includes fragments for ",(0,s.jsx)(o.code,{children:"Dashboard"})," and ",(0,s.jsx)(o.code,{children:"GlossaryTerm"})," entity types."]}),"\n",(0,s.jsx)(o.h4,{id:"lineage-query-fields",children:"Lineage query fields"}),"\n",(0,s.jsxs)(o.p,{children:["The lineage query uses ",(0,s.jsx)(o.code,{children:"searchAcrossLineage"})," with:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Entity fragments for ",(0,s.jsx)(o.code,{children:"Dataset"}),", ",(0,s.jsx)(o.code,{children:"DataJob"}),", ",(0,s.jsx)(o.code,{children:"DataFlow"}),", and ",(0,s.jsx)(o.code,{children:"Dashboard"})]}),"\n",(0,s.jsx)(o.li,{children:"Traversal paths (list of URN/type pairs)"}),"\n",(0,s.jsx)(o.li,{children:"Degree of separation from the source entity"}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"write-operations",children:"Write operations"}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Component"}),(0,s.jsx)(o.th,{children:"GraphQL Mutation"}),(0,s.jsx)(o.th,{children:"Variables"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Add Documentation"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"mutation updateDescription($input: DescriptionUpdateInput!)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"description"}),", ",(0,s.jsx)(o.code,{children:"resourceUrn"}),", optional ",(0,s.jsx)(o.code,{children:"subResourceType"}),", ",(0,s.jsx)(o.code,{children:"subResource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Manage Tags"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"mutation addTag/removeTag($input: TagAssociationInput!)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"tagUrn"}),", ",(0,s.jsx)(o.code,{children:"resourceUrn"}),", optional ",(0,s.jsx)(o.code,{children:"subResourceType"}),", ",(0,s.jsx)(o.code,{children:"subResource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Manage Terms"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"mutation addTerm/removeTerm($input: TermAssociationInput!)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"termUrn"}),", ",(0,s.jsx)(o.code,{children:"resourceUrn"}),", optional ",(0,s.jsx)(o.code,{children:"subResourceType"}),", ",(0,s.jsx)(o.code,{children:"subResource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Manage Domains"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"mutation setDomain/unsetDomain(...)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"domainUrn"}),", ",(0,s.jsx)(o.code,{children:"entityUrn"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Manage Properties"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"mutation upsertStructuredProperties/removeStructuredProperties(...)"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"assetUrn"}),", ",(0,s.jsx)(o.code,{children:"structuredPropertyUrn"}),", ",(0,s.jsx)(o.code,{children:"values"})]})]})]})]}),"\n",(0,s.jsx)(o.h4,{id:"sub-resource-support",children:"Sub-resource support"}),"\n",(0,s.jsxs)(o.p,{children:["The Tags, Terms, and Documentation components support column-level operations via the optional ",(0,s.jsx)(o.strong,{children:"Sub-Resource"})," field. When provided:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"subResourceType"})," is set to ",(0,s.jsx)(o.code,{children:"DATASET_FIELD"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"subResource"})," is set to the field path"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"This allows tagging or documenting individual columns within a dataset."}),"\n",(0,s.jsx)(o.h2,{id:"data-output-format",children:"Data output format"}),"\n",(0,s.jsxs)(o.p,{children:["All components return ",(0,s.jsx)(o.code,{children:"list[Data]"})," from ",(0,s.jsx)(o.code,{children:"run_model()"}),". Each ",(0,s.jsx)(o.code,{children:"Data"})," object contains:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"text"})," \u2014 A human-readable text field (typically the description or name)"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"data"})," \u2014 A structured dictionary with all metadata fields"]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"search-result-schema",children:"Search result schema"}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:dataset:..."',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"DATASET"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"table_name"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "qualified_name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"db.schema.table_name"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "description"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Table description"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "platform"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"snowflake"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "matched_fields"',props:{style:{color:"#A5D6FF"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}},{content:'"name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"field"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"value"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"match"',props:{style:{color:"#A5D6FF"}}},{content:"}]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(o.h3,{id:"get-metadata-result-schema",children:"Get Metadata result schema"}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:dataset:..."',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"DATASET"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"table_name"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "qualified_name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"db.schema.table_name"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "description"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Editable description"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "platform"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"snowflake"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "schema_fields"',props:{style:{color:"#A5D6FF"}}},{content:": [",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        {",props:{style:{color:"#C9D1D9"}}},{content:'"field_path"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"col"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"NUMBER"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"native_type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"INT"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'         "description"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"nullable"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:"False",props:{style:{color:"#79C0FF"}}},{content:"}",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    ],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "owners"',props:{style:{color:"#A5D6FF"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}},{content:'"urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:corpuser:..."',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"user"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"type"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"DATAOWNER"',props:{style:{color:"#A5D6FF"}}},{content:"}],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "tags"',props:{style:{color:"#A5D6FF"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}},{content:'"urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:tag:PII"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"PII"',props:{style:{color:"#A5D6FF"}}},{content:"}],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "glossary_terms"',props:{style:{color:"#A5D6FF"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}},{content:'"urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:glossaryTerm:..."',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Term"',props:{style:{color:"#A5D6FF"}}},{content:"}],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "domain"',props:{style:{color:"#A5D6FF"}}},{content:": {",props:{style:{color:"#C9D1D9"}}},{content:'"urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:domain:..."',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"name"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Finance"',props:{style:{color:"#A5D6FF"}}},{content:"},",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "sub_types"',props:{style:{color:"#A5D6FF"}}},{content:": [",props:{style:{color:"#C9D1D9"}}},{content:'"table"',props:{style:{color:"#A5D6FF"}}},{content:"],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "deprecated"',props:{style:{color:"#A5D6FF"}}},{content:": false,",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "deprecation_note"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'""',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "custom_properties"',props:{style:{color:"#A5D6FF"}}},{content:": {",props:{style:{color:"#C9D1D9"}}},{content:'"key"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"value"',props:{style:{color:"#A5D6FF"}}},{content:"},",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "created"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:"1700000000000",props:{style:{color:"#79C0FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "last_modified"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:"1700100000000",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(o.h3,{id:"write-operation-result-schema",children:"Write operation result schema"}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"urn:li:dataset:..."',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "action"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"add"',props:{style:{color:"#A5D6FF"}}},{content:",         ",props:{style:{color:"#C9D1D9"}}},{content:'# or "remove", "set", "unset", "upsert", "update_description"',props:{style:{color:"#8B949E"}}}]},{tokens:[{content:'    "success"',props:{style:{color:"#A5D6FF"}}},{content:": true,",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "tag_urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:",         ",props:{style:{color:"#C9D1D9"}}},{content:"# for tag operations",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:'    "term_urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:",        ",props:{style:{color:"#C9D1D9"}}},{content:"# for term operations",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:'    "domain_urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:",      ",props:{style:{color:"#C9D1D9"}}},{content:"# for domain operations",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:'    "property_urn"',props:{style:{color:"#A5D6FF"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:",    ",props:{style:{color:"#C9D1D9"}}},{content:"# for property operations",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:'    "sub_resource"',props:{style:{color:"#A5D6FF"}}},{content:": null      ",props:{style:{color:"#C9D1D9"}}},{content:"# or field path for column-level operations",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(o.h2,{id:"tool-schemas",children:"Tool schemas"}),"\n",(0,s.jsxs)(o.p,{children:["Each component exposes a Pydantic ",(0,s.jsx)(o.code,{children:"BaseModel"})," schema for its ",(0,s.jsx)(o.code,{children:"StructuredTool"}),", enabling agents to call tools with validated arguments:"]}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Tool Name"}),(0,s.jsx)(o.th,{children:"Schema Class"}),(0,s.jsx)(o.th,{children:"Key Fields"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_search"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"SearchSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"search_query"}),", ",(0,s.jsx)(o.code,{children:"entity_type"}),", ",(0,s.jsx)(o.code,{children:"max_results"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_get_metadata"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"GetMetadataSchema"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"entity_urn"})})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_lineage"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"LineageSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"entity_urn"}),", ",(0,s.jsx)(o.code,{children:"direction"}),", ",(0,s.jsx)(o.code,{children:"max_hops"}),", ",(0,s.jsx)(o.code,{children:"max_results"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_add_documentation"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"AddDocumentationSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"entity_urn"}),", ",(0,s.jsx)(o.code,{children:"documentation"}),", ",(0,s.jsx)(o.code,{children:"sub_resource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_manage_tags"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"ManageTagsSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"action"}),", ",(0,s.jsx)(o.code,{children:"tag_urn"}),", ",(0,s.jsx)(o.code,{children:"entity_urn"}),", ",(0,s.jsx)(o.code,{children:"sub_resource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_manage_terms"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"ManageTermsSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"action"}),", ",(0,s.jsx)(o.code,{children:"term_urn"}),", ",(0,s.jsx)(o.code,{children:"entity_urn"}),", ",(0,s.jsx)(o.code,{children:"sub_resource"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_manage_domains"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"ManageDomainsSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"action"}),", ",(0,s.jsx)(o.code,{children:"domain_urn"}),", ",(0,s.jsx)(o.code,{children:"entity_urn"})]})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"datahub_manage_properties"})}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"ManagePropertiesSchema"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"action"}),", ",(0,s.jsx)(o.code,{children:"entity_urn"}),", ",(0,s.jsx)(o.code,{children:"property_urn"}),", ",(0,s.jsx)(o.code,{children:"property_values"})]})]})]})]}),"\n",(0,s.jsx)(o.h2,{id:"error-handling",children:"Error handling"}),"\n",(0,s.jsxs)(o.p,{children:["All components raise ",(0,s.jsx)(o.code,{children:"ValueError"})," with descriptive messages for:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"HTTP connection errors (unreachable endpoint, timeout, auth failures)"}),"\n",(0,s.jsx)(o.li,{children:"GraphQL-level errors (invalid queries, permission denied, entity not found)"}),"\n",(0,s.jsxs)(o.li,{children:["Input validation errors (missing required fields like ",(0,s.jsx)(o.code,{children:"domain_urn"})," for set action)"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(o.p,{children:["Unit tests are located at ",(0,s.jsx)(o.code,{children:"src/backend/tests/unit/components/datahub/test_datahub_components.py"})," and cover:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Component default values and frontend node rendering"}),"\n",(0,s.jsx)(o.li,{children:"Tool building (name, description, schema)"}),"\n",(0,s.jsx)(o.li,{children:"Mocked GraphQL execution for all read and write operations"}),"\n",(0,s.jsx)(o.li,{children:"Input validation (required fields, action-specific constraints)"}),"\n",(0,s.jsx)(o.li,{children:"GraphQL error propagation"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Run the tests:"}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"uv ",props:{style:{color:"#FFA657"}}},{content:"run pytest src/backend/tests/unit/components/datahub/ ",props:{style:{color:"#A5D6FF"}}},{content:"-v",props:{style:{color:"#79C0FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsx)(o.h2,{id:"relationship-to-datahub-mcp-server",children:"Relationship to DataHub MCP Server"}),"\n",(0,s.jsxs)(o.p,{children:["The DataHub MCP Server component (",(0,s.jsx)(o.code,{children:"tools/datahub_graphql_mcp.py"}),") remains available as a separate integration. Key differences:"]}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Feature"}),(0,s.jsx)(o.th,{children:"Direct GraphQL components"}),(0,s.jsx)(o.th,{children:"MCP Server component"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Connection"})}),(0,s.jsx)(o.td,{children:"Direct HTTP to DataHub GraphQL API"}),(0,s.jsx)(o.td,{children:"Via MCP protocol (SSE or Stdio)"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Read operations"})}),(0,s.jsx)(o.td,{children:"\u2705 Search, Get Metadata, Lineage"}),(0,s.jsx)(o.td,{children:"\u2705 Search, Get Entity, Lineage, Queries"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Write operations"})}),(0,s.jsx)(o.td,{children:"\u2705 Documentation, Tags, Terms, Domains, Properties"}),(0,s.jsx)(o.td,{children:"\u274c Read-only"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Tool granularity"})}),(0,s.jsx)(o.td,{children:"Individual tools per action"}),(0,s.jsx)(o.td,{children:"Dynamic tool loading from MCP server"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Dependencies"})}),(0,s.jsxs)(o.td,{children:[(0,s.jsx)(o.code,{children:"httpx"})," only"]}),(0,s.jsx)(o.td,{children:"Requires MCP server process"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.strong,{children:"Configuration"})}),(0,s.jsx)(o.td,{children:"GraphQL endpoint + token"}),(0,s.jsx)(o.td,{children:"MCP server URL or command"})]})]})]}),"\n",(0,s.jsx)(o.p,{children:"Use the direct GraphQL components when you need write capabilities, fine-grained control over individual operations, or want to avoid running a separate MCP server process. Use the MCP Server component when you want dynamic tool discovery or need tools that the MCP server provides but the direct components don't (such as query analysis)."}),"\n",(0,s.jsx)(o.h2,{id:"extension-guide",children:"Extension guide"}),"\n",(0,s.jsx)(o.p,{children:"To add a new DataHub component:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Create a new file in ",(0,s.jsx)(o.code,{children:"components/datahub/"})," (e.g., ",(0,s.jsx)(o.code,{children:"datahub_my_action.py"}),")."]}),"\n",(0,s.jsx)(o.li,{children:"Define the GraphQL query/mutation as a module-level string constant."}),"\n",(0,s.jsxs)(o.li,{children:["Create a component class extending ",(0,s.jsx)(o.code,{children:"DataHubGraphQLMixin"})," and ",(0,s.jsx)(o.code,{children:"LCToolComponent"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["Define inputs (always include ",(0,s.jsx)(o.code,{children:"graphql_endpoint"})," and ",(0,s.jsx)(o.code,{children:"access_token"}),")."]}),"\n",(0,s.jsx)(o.li,{children:"Define a Pydantic schema class for the tool arguments."}),"\n",(0,s.jsxs)(o.li,{children:["Implement ",(0,s.jsx)(o.code,{children:"_my_action()"}),", ",(0,s.jsx)(o.code,{children:"run_model()"}),", and ",(0,s.jsx)(o.code,{children:"build_tool()"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["Export the class from ",(0,s.jsx)(o.code,{children:"__init__.py"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["Add tests to ",(0,s.jsx)(o.code,{children:"test_datahub_components.py"}),"."]}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"from",props:{style:{color:"#FF7B72"}}},{content:" langflow.components.datahub.datahub_base ",props:{style:{color:"#C9D1D9"}}},{content:"import",props:{style:{color:"#FF7B72"}}},{content:" DataHubGraphQLMixin",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"from",props:{style:{color:"#FF7B72"}}},{content:" langflow.base.langchain_utilities.model ",props:{style:{color:"#C9D1D9"}}},{content:"import",props:{style:{color:"#FF7B72"}}},{content:" LCToolComponent",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"_MY_QUERY ",props:{style:{color:"#79C0FF"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"""',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"query myQuery($urn: String!) {",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"  entity(urn: $urn) { urn type }",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'"""',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"class ",props:{style:{color:"#FF7B72"}}},{content:"DataHubMyActionComponent",props:{style:{color:"#FFA657"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"DataHubGraphQLMixin",props:{style:{color:"#79C0FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"LCToolComponent",props:{style:{color:"#79C0FF"}}},{content:"):",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    display_name ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"DataHub My Action"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"    name ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"DataHubMyAction"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"    icon ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"DataHub"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"    trace_type ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"tool"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    inputs ",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" [",props:{style:{color:"#C9D1D9"}}},{content:"...",props:{style:{color:"#79C0FF"}}},{content:"]  ",props:{style:{color:"#C9D1D9"}}},{content:"# graphql_endpoint, access_token, + custom inputs",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    class ",props:{style:{color:"#FF7B72"}}},{content:"MyActionSchema",props:{style:{color:"#FFA657"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"BaseModel",props:{style:{color:"#79C0FF"}}},{content:"):",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        ...",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    def ",props:{style:{color:"#FF7B72"}}},{content:"_my_action",props:{style:{color:"#D2A8FF"}}},{content:"(self, ...) -> list[Data]:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        data ",props:{style:{color:"#C9D1D9"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:"self",props:{style:{color:"#79C0FF"}}},{content:"._execute_graphql(",props:{style:{color:"#C9D1D9"}}},{content:"_MY_QUERY",props:{style:{color:"#79C0FF"}}},{content:", {",props:{style:{color:"#C9D1D9"}}},{content:'"urn"',props:{style:{color:"#A5D6FF"}}},{content:": urn})",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        return",props:{style:{color:"#FF7B72"}}},{content:" [Data(",props:{style:{color:"#C9D1D9"}}},{content:"text",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"data",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"{",props:{style:{color:"#C9D1D9"}}},{content:"...",props:{style:{color:"#79C0FF"}}},{content:"})]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    def ",props:{style:{color:"#FF7B72"}}},{content:"run_model",props:{style:{color:"#D2A8FF"}}},{content:"(self) -> list[Data]:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        return ",props:{style:{color:"#FF7B72"}}},{content:"self",props:{style:{color:"#79C0FF"}}},{content:"._my_action(",props:{style:{color:"#C9D1D9"}}},{content:"self",props:{style:{color:"#79C0FF"}}},{content:".entity_urn)",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    def ",props:{style:{color:"#FF7B72"}}},{content:"build_tool",props:{style:{color:"#D2A8FF"}}},{content:"(self) -> Tool:",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        return",props:{style:{color:"#FF7B72"}}},{content:" StructuredTool.from_function(",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            name",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:'"datahub_my_action"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            description",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:'"..."',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            func",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"self",props:{style:{color:"#79C0FF"}}},{content:"._my_action,",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            args_schema",props:{style:{color:"#FFA657"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:"self",props:{style:{color:"#79C0FF"}}},{content:".MyActionSchema,",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        )",props:{style:{color:"#C9D1D9"}}}]}],lang:"python"},annotations:[]}]})]})}function y(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(D,{...e})}):D(e)}function u(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);